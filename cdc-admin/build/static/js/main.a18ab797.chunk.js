(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){},23:function(e,t,a){},28:function(e,t,a){e.exports=a(40)},33:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),o=a.n(l),i=(a(33),a(1)),s=a(2),c=a(4),u=a(3),m=a(5),h=(a(22),a(23),a(14)),p=a(11),d=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"menu"},r.a.createElement("div",{className:"pure-menu"},r.a.createElement(p.b,{className:"pure-menu-heading",to:"/#"},"Company"),r.a.createElement("ul",{className:"pure-menu-list"},r.a.createElement("li",{className:"pure-menu-item"},r.a.createElement(p.b,{to:"/",className:"pure-menu-link"},"Home")),r.a.createElement("li",{className:"pure-menu-item"},r.a.createElement(p.b,{to:"/autor",className:"pure-menu-link"},"Autor")),r.a.createElement("li",{className:"pure-menu-item"},r.a.createElement(p.b,{to:"/livro",className:"pure-menu-link"},"Livro")))))}}]),t}(n.Component),b=a(12),v=a.n(b),E=a(7),f=a.n(E),j=a(13),O=function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,[{key:"publicaErros",value:function(e){for(var t=0;t<e.errors.length;t++){var a=e.errors[t];console.log("Mensagem de Erro | ",a),f.a.publish("erro-validacao",a)}}}]),e}(),y=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this)))._isMounted=!1,e.state={msgErro:""},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this._isMounted&&(f.a.subscribe("erro-validacao",function(e,t){t.field===this.props.name&&this.setState({msgErro:t.defaultMessage})}.bind(this)),f.a.subscribe("limpa-erros",function(e){this.setState({msgErro:""})}.bind(this)))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return r.a.createElement("div",{className:"pure-control-group"},r.a.createElement("label",{htmlFor:this.props.id},this.props.label),r.a.createElement("input",this.props),r.a.createElement("span",{className:"error"}," ",this.state.msgErro))}}]),t}(n.Component),k=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"pure-control-group"},r.a.createElement("label",null),r.a.createElement("button",{type:this.props.type,className:"pure-button pure-button-primary"},this.props.texto))}}]),t}(n.Component),N=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this)))._isMounted=!1,e.state={lista:[],nome:"",email:"",senha:""},e.enviaForm=e.enviaForm.bind(Object(j.a)(e)),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"enviaForm",value:function(e){this._isMounted=!0,e.preventDefault(),v.a.ajax({url:"http://localhost:8080/api/autores",contentType:"application/json",dataType:"json",type:"post",data:JSON.stringify({nome:this.state.nome,email:this.state.email,senha:this.state.senha}),success:function(e){f.a.publish("atualiza-lista-autores",e),this.setState({nome:"",email:"",senha:""})}.bind(this),error:function(e){400===e.status&&(new O).publicaErros(e.responseJSON)},beforeSend:function(){f.a.publish("limpa-erros",{})}})}},{key:"salvaAlteracao",value:function(e,t){var a={};a[e]=t.target.value,this.setState(a)}},{key:"render",value:function(){return r.a.createElement("div",{className:"pure-form pure-form-aligned"},r.a.createElement("form",{className:"pure-form pure-form-aligned",onSubmit:this.enviaForm,method:"post"},r.a.createElement(y,{id:"nome",type:"text",name:"nome",value:this.state.nome,onChange:this.salvaAlteracao.bind(this,"nome"),label:"Nome"}),r.a.createElement(y,{id:"email",type:"email",name:"email",value:this.state.email,onChange:this.salvaAlteracao.bind(this,"email"),label:"Email"}),r.a.createElement(y,{id:"senha",type:"password",name:"senha",value:this.state.senha,onChange:this.salvaAlteracao.bind(this,"senha"),label:"Senha"}),r.a.createElement(k,{type:"submit",texto:"Gravar"})))}}]),t}(r.a.Component),g=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("table",{className:"pure-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nome"),r.a.createElement("th",null,"email"))),r.a.createElement("tbody",null,this.props.lista.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.nome),r.a.createElement("td",null,e.email))}))))}}]),t}(r.a.Component),_=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this)))._isMounted=!1,e.state={lista:[],nome:"",email:"",senha:""},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,v.a.ajax({url:"http://localhost:8080/api/autores",dataType:"json",success:function(e){this.setState({lista:e})}.bind(this)}),this._isMounted&&f.a.subscribe("atualiza-lista-autores",function(e,t){this.setState({lista:t})}.bind(this))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Cadastro de Autores")),r.a.createElement("div",{className:"content",id:"content"},r.a.createElement(N,null),r.a.createElement(g,{lista:this.state.lista})))}}]),t}(r.a.Component),S=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Bem vindo ao sistema - Home")),r.a.createElement("div",{className:"content",id:"content"}))}}]),t}(r.a.Component),A=(a(39),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"pure-g"},r.a.createElement("div",{className:"pure-u-1-3"},r.a.createElement("p",null,"Thirds")),r.a.createElement("div",{className:"pure-u-1-3"},r.a.createElement("p",null,"Thirds")),r.a.createElement("div",{className:"pure-u-1-3"},r.a.createElement("p",null,"Thirds"))))}}]),t}(n.Component)),C=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this)))._isMounted=!1,e.state={lista_livros:[],lista_autores:[],titulo:"",preco:"",autorId:"",autor:""},e.setAutorId=e.setAutorId.bind(Object(j.a)(e)),e.setTitulo=e.setTitulo.bind(Object(j.a)(e)),e.setPreco=e.setPreco.bind(Object(j.a)(e)),e.enviaFormLivro=e.enviaFormLivro.bind(Object(j.a)(e)),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,v.a.ajax({url:"http://localhost:8080/api/autores",dataType:"json",success:function(e){this.setState({lista_autores:e})}.bind(this),error:function(){console.log("ERRO Primeiro Ajax Autores")}})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"setAutorId",value:function(e){this.setState({autorId:e.target.value})}},{key:"setTitulo",value:function(e){this.setState({titulo:e.target.value})}},{key:"setPreco",value:function(e){this.setState({preco:e.target.value})}},{key:"enviaFormLivro",value:function(e){e.preventDefault(),v.a.ajax({url:"http://localhost:8080/api/livros",contentType:"application/json",dataType:"json",type:"post",data:JSON.stringify({autorId:this.state.autorId,titulo:this.state.titulo,preco:this.state.preco,autor:this.state.autor}),success:function(e){f.a.publish("atualiza-lista-livros",e),this.setState({titulo:"",preco:"",autorId:"",autor:""})}.bind(this),error:function(e){400===e.status&&(new O).publicaErros(e.responseJSON)},beforeSend:function(){f.a.publish("limpa-erros",{})}})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Escolha o Autor"),r.a.createElement("form",{className:"pure-form pure-form-aligned",onSubmit:this.enviaFormLivro,method:"post"},this.state.lista_autores.length>0?r.a.createElement("div",{className:"pure-control-group"},r.a.createElement("label",{htmlFor:"AutorId"},"Escolha o Autor"),r.a.createElement("select",{value:this.state.autorId,id:"AutorId",name:"AutorId",onChange:this.setAutorId},r.a.createElement("option",{value:""},"Selecione"),this.state.lista_autores.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.nome)}))):null,r.a.createElement(y,{id:"titulo",type:"text",name:"titulo",value:this.state.titulo,onChange:this.setTitulo,label:"T\xedtulo"}),r.a.createElement(y,{id:"preco",type:"text",name:"preco",value:this.state.preco,onChange:this.setPreco,label:"Pre\xe7o R$"}),r.a.createElement(k,{type:"submit",texto:"Enviar"})))}}]),t}(r.a.Component),M=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("table",{className:"pure-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"T\xedtulo"),r.a.createElement("th",null,"Pre\xe7o"),r.a.createElement("th",null,"Autor"))),r.a.createElement("tbody",null,this.props.lista_livros.length>0?this.props.lista_livros.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.titulo),r.a.createElement("td",null,e.preco),r.a.createElement("td",null,e.autor.nome))}):r.a.createElement("tr",null,r.a.createElement("td",null,"Erro API Titulo"),r.a.createElement("td",null,"Erro API Pre\xe7o"),r.a.createElement("td",null,"Erro API Nome"))))}}]),t}(r.a.Component),I=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={lista_livros:[]},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){v.a.ajax({url:"http://localhost:8080/api/livros",dataType:"json",success:function(e){this.setState({lista_livros:e})}.bind(this),error:function(){console.log("ERRO Primeiro Ajax Livros")}}),f.a.subscribe("atualiza-lista-livros",function(e,t){this.setState({lista_livros:t})}.bind(this))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"content",id:"content"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Cadastro de Livros")),r.a.createElement(C,null),r.a.createElement(M,{lista_livros:this.state.lista_livros})))}}]),t}(r.a.Component),T=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"layout"},r.a.createElement(d,null),r.a.createElement("div",{id:"main"},r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/",exact:!0,component:S}),r.a.createElement(h.a,{path:"/autor",component:_}),r.a.createElement(h.a,{path:"/livro",component:I}))),r.a.createElement(A,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(p.a,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.a18ab797.chunk.js.map